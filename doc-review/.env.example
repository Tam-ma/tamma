# Environment Configuration Template for Tamma Doc Review
# Copy this file to .env.production and fill in the values

# =============================================================================
# GitHub OAuth Configuration
# =============================================================================
# Create OAuth app at: https://github.com/settings/developers
# Callback URL: https://tamma-doc-review.pages.dev/auth/callback
GITHUB_CLIENT_ID=your_github_client_id_here
GITHUB_CLIENT_SECRET=your_github_client_secret_here

# =============================================================================
# GitLab OAuth Configuration (Optional)
# =============================================================================
# Create application at: https://gitlab.com/-/user_settings/applications
# Redirect URI: https://tamma-doc-review.pages.dev/auth/callback
# Scopes: read_user, read_repository
GITLAB_CLIENT_ID=your_gitlab_client_id_here
GITLAB_CLIENT_SECRET=your_gitlab_client_secret_here

# =============================================================================
# Session Security
# =============================================================================
# Generate with: openssl rand -base64 32
# This is used to sign session cookies
SESSION_SECRET=your_session_secret_here_generate_with_openssl_rand

# =============================================================================
# Encryption
# =============================================================================
# Generate with: openssl rand -base64 32
# This is used to encrypt sensitive data at rest
ENCRYPTION_KEY=your_encryption_key_here_generate_with_openssl_rand

# =============================================================================
# Cloudflare Configuration
# =============================================================================
# Get from: https://dash.cloudflare.com
CLOUDFLARE_ACCOUNT_ID=your_cloudflare_account_id_here
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token_here

# =============================================================================
# Error Tracking (Optional - Sentry)
# =============================================================================
# Create project at: https://sentry.io
# Choose Cloudflare Workers integration
SENTRY_DSN=https://your_sentry_dsn_here@sentry.io/project_id
SENTRY_ENVIRONMENT=production
SENTRY_SAMPLE_RATE=1.0
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# Application Configuration
# =============================================================================
# Application environment
NODE_ENV=production

# Application metadata
APP_NAME="Tamma Doc Review"
APP_VERSION=1.0.0

# =============================================================================
# Git Provider Configuration
# =============================================================================
# Primary Git provider (github or gitlab)
GIT_PROVIDER=github

# Repository information
GIT_OWNER=meywd
GIT_REPO=tamma
GIT_REF=main
GIT_DEFAULT_BRANCH=main

# Document base path in repository
DOCS_BASE_PATH=docs

# =============================================================================
# Feature Flags
# =============================================================================
# Enable/disable features
ENABLE_ANALYTICS=true
ENABLE_ERROR_TRACKING=true
ENABLE_RATE_LIMITING=true

# =============================================================================
# Performance Configuration
# =============================================================================
# Cache TTL in seconds
CACHE_TTL_SECONDS=3600

# Maximum request size in MB
MAX_REQUEST_SIZE_MB=10

# =============================================================================
# Security Configuration
# =============================================================================
# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=https://tamma-doc-review.pages.dev,https://tamma.dev

# Enable CSRF protection
CSRF_PROTECTION_ENABLED=true

# =============================================================================
# Database Configuration
# =============================================================================
# D1 Database ID (from: wrangler d1 list)
# This should be set in wrangler.production.jsonc instead
# D1_DATABASE_ID=your_d1_database_id_here

# =============================================================================
# KV Namespace Configuration
# =============================================================================
# KV Namespace ID (from: wrangler kv namespace list)
# This should be set in wrangler.production.jsonc instead
# KV_NAMESPACE_ID=your_kv_namespace_id_here

# =============================================================================
# R2 Bucket Configuration (Optional)
# =============================================================================
# R2 Bucket name for file attachments
# This should be set in wrangler.production.jsonc instead
# R2_BUCKET_NAME=tamma-attachments

# =============================================================================
# Admin Configuration (Optional)
# =============================================================================
# Initial admin user (created during setup)
ADMIN_EMAIL=admin@tamma.dev
ADMIN_NAME="Tamma Admin"

# =============================================================================
# Rate Limiting Configuration
# =============================================================================
# Requests allowed per window
RATE_LIMIT_REQUESTS=100

# Rate limit window in seconds
RATE_LIMIT_WINDOW=60

# =============================================================================
# Logging Configuration
# =============================================================================
# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Enable detailed request logging
ENABLE_REQUEST_LOGGING=false

# =============================================================================
# Monitoring Configuration
# =============================================================================
# Enable performance monitoring
ENABLE_PERFORMANCE_MONITORING=true

# Performance metrics sample rate (0.0 to 1.0)
PERFORMANCE_SAMPLE_RATE=0.1

# =============================================================================
# IMPORTANT NOTES
# =============================================================================
# 1. DO NOT commit this file with real values to version control
# 2. Copy to .env.production and fill in actual values
# 3. Use wrangler to set secrets:
#    wrangler pages secret put GITHUB_CLIENT_ID --project-name=tamma-doc-review
# 4. Some values (D1_DATABASE_ID, KV_NAMESPACE_ID) should be in wrangler.production.jsonc
# 5. Generate secure secrets using: openssl rand -base64 32
# 6. Rotate secrets regularly for security
# 7. See DEPLOYMENT.md for detailed setup instructions
